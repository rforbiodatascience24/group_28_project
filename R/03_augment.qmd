---
title: "03_augment.qmd"
format: html
editor: visual
---

```{r}
#Remember to change the NA
, na = c("", "not reported", 
```

Give factors to the cancer stage:

```{r}

diabetes_data <- diabetes_data |>
  mutate(BMI_class = factor(BMI_class,
                            levels =  c("my 1st category", "my 2nd category",
                                        "my 3rd category", "my nth category")))
```

### Age at diagnosis from days to years

```{r}
loaded_data_test <- loaded_data  |> 
  mutate(age_at_diagnosis_years = age_at_diagnosis.diagnoses/365.25)
```

### Age grouping

```{r}
loaded_data_test = loaded_data_test |> 
  mutate(age_group = case_when(20 < age_at_diagnosis_years & age_at_diagnosis_years <= 30 ~ "(20,30]",
                               30 < age_at_diagnosis_years & age_at_diagnosis_years <= 40 ~ "(30,40]",
                               40 < age_at_diagnosis_years & age_at_diagnosis_years <= 50 ~ "(40,50]",
                               50 < age_at_diagnosis_years & age_at_diagnosis_years <= 60 ~ "(50,60]",
                               60 < age_at_diagnosis_years & age_at_diagnosis_years <= 70 ~ "(60,70]",
                               70 < age_at_diagnosis_years & age_at_diagnosis_years <= 80 ~ "(70,80]",
                               80 < age_at_diagnosis_years & age_at_diagnosis_years <= 90 ~ "(80,90]"))
```

### Years from diagnosis to death

```{r}
loaded_data_test <- loaded_data_test  |> 
  mutate(years_from_diagnosis_to_death = (days_to_death.demographic/365.25))
```

### Age at death in years

```{r}
loaded_data_test <- loaded_data_test  |> 
  mutate(age_at_death_years = age_at_diagnosis_years + years_from_diagnosis_to_death)
```

### Year of death

```{r}
loaded_data_test <- loaded_data_test  |> 
  mutate(year_of_death = year_of_diagnosis.diagnoses+years_from_diagnosis_to_death)
```
